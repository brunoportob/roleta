/* Estilos principais da aplicação (restaurados) */
:root {
	/* Permite trocar facilmente a cor de fundo quando a roleta está em modo expansivo */
	--fullscreen-bg: #ffffff; /* antes era rgba(0,0,0,0.85) */
}
html, body { height:100%; }
body {
	font-family: Arial, sans-serif;
	margin: 0;
	padding: 20px;
	background-color: #f0f0f0;
	min-height: 100vh;
	display: flex;
	justify-content: center;
	align-items: flex-start; /* evita efeito de corte se lista crescer */
	box-sizing: border-box;
	overflow: hidden; /* impede scroll global; somente lista interna rola */
}

.main-container {
	width: 100%;
	max-width: 1380px; /* mais compacto para não gerar scroll lateral em 1440px */
	background: white;
	border-radius: 12px;
	box-shadow: 0 4px 18px rgba(0,0,0,0.08);
	overflow: hidden;
	position: relative;
	height: calc(100vh - 40px); /* 100vh menos padding vertical total (20+20) */
	display:flex;
	flex-direction:column;
}

/* altura adaptável: se couber centraliza verticalmente */
@media (min-height: 880px) {
  body { align-items: center; }
}

.main-container h1 {
	text-align: center;
	color: #333;
	margin: 0;
	padding: 20px;
	background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
	color: white;
	position: relative;
}

.header-actions { position:absolute; top:50%; right:16px; transform:translateY(-50%); display:flex; gap:12px; }
.prob-config-button { background: rgba(255,255,255,0.18); border:1px solid rgba(255,255,255,0.45); color:#fff; cursor:pointer; padding:7px 12px; border-radius:8px; font-size:16px; line-height:1; display:flex; align-items:center; justify-content:center; min-width:44px; }
.prob-config-button:hover { background: rgba(255,255,255,0.32); }
/* Center expand button inside wheel */
.wheel-center { position:absolute; }
.center-expand-btn {
	position:absolute;
	inset:0;
	margin:auto;
	width:70px; height:70px; border-radius:50%; border:4px solid #fff;
	background:#ffffff; color:#fff; font-size:22px; font-weight:bold;
	cursor:pointer; display:flex; align-items:center; justify-content:center;
	box-shadow:0 4px 14px rgba(0,0,0,0.45), 0 0 0 3px rgba(255,255,255,0.35);
	transition:background .25s, transform .25s, box-shadow .25s;
    pointer-events:auto;
}
.center-expand-btn:hover { transform:scale(1.06); }
.center-expand-btn.toggle-close { background:#ff5252; }
.center-expand-btn.toggle-close:hover { background:#ff3535; }

/* Modo girar (fullscreen) - botão central vira ação de spin */
.center-expand-btn.spin-mode { 
	/* Se não tiver logo, mantém destaque antigo */
	background:linear-gradient(145deg,#ffa726,#fb8c00); 
	box-shadow:0 0 0 3px rgba(255,255,255,0.45), 0 6px 20px rgba(0,0,0,0.6);
	animation:pulseSpinBtn 2.4s ease-in-out infinite;
	font-size:26px;
}
/* Quando houver logo, força fundo branco mesmo em modo spin */
.center-expand-btn.with-logo.spin-mode { background:#fff; animation:none; }
.center-expand-btn img#center-logo { width:46px; height:46px; object-fit:contain; pointer-events:none; }
.center-expand-btn.with-logo .center-icon { display:none; }
/* Fullscreen: escala botão e logo um pouco maiores */
#wheel-full-overlay .center-expand-btn { width:110px; height:110px; }
#wheel-full-overlay .center-expand-btn img#center-logo { width:74px; height:74px; }
.center-expand-btn.spin-mode:hover { background:linear-gradient(145deg,#ff9800,#f57c00); }
@keyframes pulseSpinBtn { 0%,100%{ transform:scale(1); } 50%{ transform:scale(1.08); } }

/* Fullscreen overlay - agora fundo branco para foco total na roleta */
.wheel-full-overlay { position: fixed; inset:0; background: var(--fullscreen-bg); display:none; align-items:center; justify-content:center; z-index:1000; }
/* Opcional: leve borda/sombra na roda para destacá-la sobre fundo branco */
.wheel-full-overlay .wheel { filter: drop-shadow(0 6px 28px rgba(0,0,0,0.18)); }
.wheel-full-inner { position:relative; width:100%; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:2vmin; box-sizing:border-box; }
.full-wheel-wrapper { position:relative; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:30px; width:100%; max-width:96vmin; }
.full-wheel-wrapper .wheel { width:100%; height:auto; aspect-ratio:1/1; max-width:96vmin; max-height:96vmin; }
#full-wheel-slot { width:100%; display:flex; align-items:center; justify-content:center; }
#full-wheel-slot svg { width:100%; height:100%; max-width:96vmin; max-height:96vmin; }

/* When container is inside fullscreen overlay, allow it to scale larger */
/* Layout fullscreen refinado: garante espaço fixo para botão sem encostar */
#wheel-full-overlay #wheel-container { 
	width: min(90vmin, 940px);
	/* Reserva ~140px para botão + respiro; usa 100vh - 140px como teto */
	height: min(90vmin, calc(100vh - 140px));
	margin: 0 auto 0; 
}

/* Ajusta wrapper para garantir centralização mesmo com limite de altura aplicado */
.full-wheel-wrapper { 
	max-height: 100%;
}

/* Botão no fullscreen: garante que apareça acima da borda inferior e seja clicável */
#wheel-full-overlay #spin-button-full { 
	position: relative; 
	z-index: 1010; 
	margin-top: 18px; /* mais afastado da borda da roda */
	padding:14px 38px;
	font-size:18px;
	box-shadow:0 6px 18px rgba(0,0,0,0.4);
}
.close-full { position:absolute; top:20px; right:25px; background:#ff5252; color:#fff; border:none; padding:10px 14px; border-radius:50%; cursor:pointer; font-weight:bold; box-shadow:0 4px 12px rgba(0,0,0,0.4); }

/* Central expand button style when placed over wheel */
#expand-wheel.centered-expand {
  position:absolute;
  left:50%; top:50%; transform:translate(-50%,-50%);
  width:70px; height:70px; border-radius:50%; font-size:26px; display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.55); border:2px solid #fff; backdrop-filter:blur(4px);
}
#expand-wheel.centered-expand:hover { background:rgba(0,0,0,0.7); }

/* Effects layers */
.fx-confetti, .fx-cloud { position:fixed; inset:0; z-index:1200; pointer-events:none; }
.fx-cloud { background: radial-gradient(circle at center, rgba(200,200,200,0.9), rgba(30,30,30,0.9)); animation: cloudFade 1.6s ease forwards; }
@keyframes cloudFade { 0% {opacity:0;} 15%{opacity:1;} 80%{opacity:1;} 100% {opacity:0;} }

/* Confetti pieces */
.confetti-piece { position:absolute; width:10px; height:14px; opacity:0; animation: confetti 2.5s ease-out forwards; }
@keyframes confetti { 0% { transform: translateY(0) rotate(0deg); opacity:1; } 80% { opacity:1; } 100% { transform: translateY(600px) rotate(720deg); opacity:0; } }

/* Animation when wheel enters fullscreen */
.wheel-full-overlay.showing .full-wheel-wrapper { animation: popIn 0.45s ease; }
@keyframes popIn { 0% { transform: scale(0.6) rotate(-8deg); opacity:0; } 60% { transform: scale(1.05) rotate(2deg); opacity:1; } 100% { transform: scale(1) rotate(0); opacity:1; } }

.prob-overlay {
	position: fixed;
	inset: 0;
	background: rgba(0,0,0,0.55);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 999;
}
.prob-panel {
	background: #fff;
	padding: 30px;
	border-radius: 12px;
	width: 340px;
	box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}
.prob-panel h2 { margin-top:0; }
.prob-panel input { width: 100px; margin-left: 10px; }
.prob-row { margin-bottom:12px; }
.small-note { font-size: 12px; color:#555; }

.placeholder-controls { margin-bottom:10px; }

.content-grid { 
	display: grid;
	/* coluna esquerda ampliada para comportar roleta maior, direita continua fluida */
	grid-template-columns: 560px 1fr; 
	gap: 0; 
	min-height: 0; /* permite que o grid contraia dentro do flex container */
	flex:1;
	overflow:hidden; /* evita scroll externo */
}
.content-grid.no-history { grid-template-columns: 560px 1fr; }

@media (max-width: 1320px){
	.content-grid, .content-grid.no-history { grid-template-columns: 520px 1fr; }
	#wheel-container { width:440px; height:440px; }
}
@media (max-width: 1180px){
	.content-grid, .content-grid.no-history { grid-template-columns: 480px 1fr; }
	#wheel-container { width:400px; height:400px; }
}
@media (max-width: 1080px){
	.content-grid, .content-grid.no-history { grid-template-columns: 1fr; }
	.wheel-section { border-right:none; border-bottom:2px solid #eee; }
	.items-section { padding-top: 10px; }
	body { align-items: flex-start; }
}
@media (max-width: 980px){
	.content-grid, .content-grid.no-history { grid-template-columns: 1fr; }
	.wheel-section { border-right:none; border-bottom:2px solid #eee; }
	.items-section { padding-top: 10px; }
	body { align-items: flex-start; }
}

/* Ajustes com base na altura da janela para evitar rolagem vertical */
@media (max-height: 820px){
	#wheel-container { width:400px; height:400px; }
	.wheel-center { width:78px; height:78px; }
	.spin-button { margin:8px 0 4px; padding:10px 22px; }
	.items-section { padding: 22px; }
}
@media (max-height: 740px){
	#wheel-container { width:370px; height:370px; }
	.wheel-center { width:72px; height:72px; }
	.items-section { padding:18px; }
	.item-edit { padding:10px; }
	.add-item-inline { padding:12px; }
}
.history-overlay { position:fixed; inset:0; background:rgba(0,0,0,0.55); display:flex; align-items:center; justify-content:center; z-index:1400; }
.history-panel { background:#fff; width:380px; max-height:70vh; padding:26px 26px 20px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,0.35); display:flex; flex-direction:column; gap:14px; }
.history-panel h2 { margin:0 0 4px; font-size:22px; }
.history-list { list-style:none; margin:0; padding:0; overflow:auto; flex:1; border:1px solid #eee; border-radius:8px; font-size:13px; }
.history-list li { display:flex; justify-content:space-between; padding:6px 10px; border-bottom:1px solid #f1f1f1; }
.history-list li:last-child { border-bottom:none; }
.history-list .none { color:#999; font-style:italic; }
.history-actions { display:flex; gap:10px; justify-content:flex-end; }
.history-actions .danger { background:#f44336; }
.history-actions .danger:hover { background:#d7362b; }
.history-button { right:60px; }
.history-side { padding:16px 12px; background:#f8f8f8; border-right:2px solid #eee; display:flex; flex-direction:column; align-items:stretch; gap:10px; }
.history-header { display:flex; align-items:center; justify-content:space-between; margin:0 0 4px; }
.clear-history-btn { background:#e0e0e0; border:none; color:#333; width:28px; height:28px; border-radius:6px; cursor:pointer; font-size:14px; font-weight:bold; line-height:1; display:flex; align-items:center; justify-content:center; }
.clear-history-btn:hover { background:#d0d0d0; }


.wheel-section {
	/* padding reduzido para caber roleta maior dentro da coluna ajustada */
	padding: 20px 20px 20px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: flex-start; /* fixa topo */
	background: #fafafa;
	border-right: 2px solid #eee;
	gap: 8px;
	flex: 0 0 auto; /* impede encolher quando a lista cresce */
}


/* Seção de itens - padding reduzido para aproximar conteúdo das bordas e permitir mais largura útil */
.items-section {
	padding: 22px 20px 26px 20px;
	background: white;
	display:flex;
	flex-direction:column;
	min-height:0; /* importante para flex + overflow funcionar */
}

/* Removido limite de largura para ocupar toda a coluna disponível */
.items-edit-section { 
	max-width: 100%;
	width:100%;
}

/* Área rolável para lista de itens sem empurrar a roleta */
.items-edit-section { 
	flex:1 1 auto;
	display:flex;
	flex-direction:column;
	overflow:hidden; /* remove scroll daqui */
	min-height:0; 
}
/* Apenas a lista de itens rola */
#items-edit-list { 
	flex:1 1 auto; 
	overflow-y:auto; 
	min-height:0; 
	scrollbar-width: thin;
	padding-right:4px;
}
#items-edit-list::-webkit-scrollbar { width: 10px; }
#items-edit-list::-webkit-scrollbar-track { background: #f1f1f1; border-radius:6px; }
#items-edit-list::-webkit-scrollbar-thumb { background:#c7c7c7; border-radius:6px; }
#items-edit-list::-webkit-scrollbar-thumb:hover { background:#b2b2b2; }

#wheel-container { position:relative; width:480px; height:480px; margin:12px auto 14px; transition:width .3s, height .3s; }
@media (max-width:1400px){ #wheel-container { width:460px; height:460px; } }
@media (max-width:1320px){ #wheel-container { width:440px; height:440px; } }
@media (max-width:1180px){ #wheel-container { width:400px; height:400px; } }
@media (max-width:1080px){ #wheel-container { width:380px; height:380px; } }

.wheel { width:100%; height:100%; border-radius:50%; position:relative; transition:transform 4s cubic-bezier(0.25,0.1,0.25,1); }

#wheel-svg { width:100%; height:100%; border-radius:50%; border:4px solid #333; }

.wheel-text {
	font-family: Arial, sans-serif;
	font-weight: bold;
	font-size: 14px;
	fill: white;
	text-anchor: middle;
	dominant-baseline: middle;
	text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}

.pointer {
	position: absolute;
	top: -20px;
	left: 50%;
	transform: translateX(-50%);
	width: 0;
	height: 0;
	border-left: 20px solid transparent;
	border-right: 20px solid transparent;
	border-top: 40px solid #333;
	z-index: 10;
}

.wheel-center { position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:120px; height:120px; background:#333; border-radius:50%; z-index:60; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:600; font-size:15px; border:4px solid #fff; box-shadow:0 0 14px rgba(0,0,0,0.35); cursor:pointer; }

/* #center-text removido (antigo texto central) */

.spin-button { background:#FF9800; color:#fff; font-size:17px; padding:12px 26px; margin:12px 0 8px; border:none; border-radius:8px; cursor:pointer; font-weight:600; letter-spacing:.5px; transition:background-color .3s; }

.spin-button:disabled {
	background-color: #ccc;
	cursor: not-allowed;
}

.spin-button:hover:not(:disabled) {
	background-color: #F57C00;
}

/* Esconde botão base quando em fullscreen (classe aplicada dinamicamente) */
.spin-button.hidden-during-full { 
	visibility:hidden; 
	opacity:0; 
	pointer-events:none; 
}

.items-edit-section {
	height: 100%;
}

.items-edit-section h3 {
	margin-top: 0;
	color: #333;
	border-bottom: 2px solid #667eea;
	padding-bottom: 10px;
}

.file-controls { /* legado mantido caso reative upload/download */
	display: flex;
	gap: 10px;
	margin-bottom: 20px;
	padding: 15px;
	background: #f0f8ff;
	border-radius: 8px;
	border: 1px solid #b3d9ff;
}

.file-button {
	background-color: #6c757d;
	color: white;
	border: none;
	padding: 10px 15px;
	border-radius: 5px;
	cursor: pointer;
	font-weight: bold;
	font-size: 12px;
	transition: background-color 0.3s;
}

.file-button:hover {
	background-color: #5a6268;
}

.add-item-inline {
	display: flex;
	gap: 8px;
	align-items: center;
	margin-bottom: 14px;
	padding: 12px 14px;
	background: #f9f9f9;
	border-radius: 8px;
	border: 2px dashed #ddd;
	position: sticky;
	top: 0;
	z-index: 5;
	backdrop-filter: blur(2px);
}

.add-item-inline input {
	padding: 8px 10px;
	border: 1px solid #ccc;
	border-radius: 4px;
	font-size:14px;
}

.add-item-inline input:first-child { flex: 1.5; }
.add-item-inline input:nth-child(2) { flex: 0 0 84px; max-width:84px; }

.add-button {
	background-color: #4CAF50;
	color: white;
	border: none;
	padding: 10px 14px;
	border-radius: 5px;
	cursor: pointer;
	font-weight: 600;
	font-size:14px;
}
.add-placeholder-icon { width:46px; height:46px; padding:0; font-size:26px; line-height:46px; display:inline-flex; align-items:center; justify-content:center; }
.add-placeholder-btn { display:inline-flex; align-items:center; justify-content:center; padding:10px 18px; font-size:14px; font-weight:600; background:#444; }
.add-placeholder-btn:hover { background:#333; }
/* Novo estilo placeholder cinza semelhante ao botão verde de adicionar */
.placeholder-add-btn {
	background:#555;
	color:#fff;
	border:none;
	padding:10px 18px;
	border-radius:5px;
	cursor:pointer;
	font-weight:600;
	font-size:14px;
	display:inline-flex;
	align-items:center;
	justify-content:center;
	transition:background .25s;
}
.placeholder-add-btn:hover { background:#4a4a4a; }
.placeholder-add-btn:active { background:#3e3e3e; }

.item-edit {
	display: flex;
	align-items: center;
	gap: 10px;
	margin-bottom: 10px;
	padding: 12px;
	background: #f8f9fa;
	border-radius: 8px;
	border: 1px solid #e9ecef;
}

.item-edit input {
	padding: 8px;
	border: 1px solid #ccc;
	border-radius: 4px;
}

.item-edit .item-name-edit { flex: 2; }
.item-edit .item-quantity-edit { flex: 1; max-width: 80px; }

.edit-button {
	background-color: #2196F3;
	color: white;
	border: none;
	padding: 8px 12px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 12px;
}

.delete-button {
	background-color: #f44336;
	color: white;
	border: none;
	padding: 8px 12px;
	border-radius: 4px;
	cursor: pointer;
	font-size: 12px;
}

.create-button {
	background-color: #2196F3;
	color: white;
	border: none;
	padding: 12px 20px;
	border-radius: 5px;
	cursor: pointer;
	font-weight: bold;
	margin: 10px 5px;
}

/* finished-message removido (substituído por overlay dinâmico) */

body { overflow-x:auto; }

/* Histórico */
.results-history { background:#fff; border:1px solid #ddd; border-radius:6px; padding:6px 8px; }
.results-history ul { list-style:none; margin:0; padding:0; max-height:260px; overflow:auto; font-size:12px; }
.results-history li { padding:3px 4px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; gap:6px; }
.results-history li:last-child { border-bottom:none; }
.results-history .tag-none { color:#999; font-style:italic; }
.hist-title { font-size:11px; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color:#444; }

/* Toast */
.result-toast { position:fixed; left:50%; top:20px; transform:translateX(-50%); background:#111; color:#fff; padding:14px 24px; border-radius:40px; font-weight:600; font-size:18px; z-index:1500; box-shadow:0 8px 24px rgba(0,0,0,0.35); opacity:0; animation:toastIn .4s ease forwards, toastOut .4s ease 3.2s forwards; display:flex; align-items:center; gap:10px; }
.result-toast.win { background:linear-gradient(145deg,#ffb347,#ff7b00); }
.result-toast.none { background:linear-gradient(145deg,#666,#333); }
@keyframes toastIn { from{ transform:translate(-50%, -10px); opacity:0;} to{ transform:translate(-50%,0); opacity:1;} }
@keyframes toastOut { to{ transform:translate(-50%, -8px); opacity:0;} }

/* Destaque */
.winner-highlight { filter:drop-shadow(0 0 6px rgba(255,255,255,0.9)) drop-shadow(0 0 14px rgba(255,215,0,0.75)); stroke:#fff !important; stroke-width:3 !important; animation:winnerPulse 1.4s ease-in-out 2; }
@keyframes winnerPulse { 0%,100%{ transform:scale(1);} 50%{ transform:scale(1.025);} }

/* Estado sem itens: sobreposição sobre a roleta */
.wheel-section { position:relative; }
.no-items-overlay-active #wheel-container { filter:grayscale(.4) brightness(.75); transition:filter .35s; }
.no-items-overlay { position:absolute; inset:0; display:none; align-items:center; justify-content:center; pointer-events:none; z-index:20; }
	.no-items-card { pointer-events:auto; background:#fff; border:2px solid #ffcc80; box-shadow:0 8px 28px rgba(0,0,0,0.25); border-radius:16px; padding:34px 44px 28px; text-align:center; max-width:340px; font-weight:600; font-size:20px; line-height:1.3; color:#663c00; animation:emptyPulse .55s ease; transform:translateY(-28px); 
		/* Garantir centralização absoluta na roleta */
		pointer-events: none;
	}
.no-items-card h4 { margin:0 0 8px; font-size:22px; color:#ff9100; }
.no-items-card p { margin:0 0 18px; font-size:15px; font-weight:500; color:#444; }
.no-items-card button { background:#2196F3; color:#fff; border:none; border-radius:8px; padding:11px 20px; font-size:15px; cursor:pointer; font-weight:600; }
.no-items-card button:hover { background:#1976d2; }
@keyframes emptyPulse { 0%{ transform:scale(.8) translateY(10px); opacity:0;} 60%{ transform:scale(1.04) translateY(-2px); opacity:1;} 100%{ transform:scale(1) translateY(0); opacity:1;} }
